# 系统入口二维码使用指南

## 📱 功能概述

本系统提供了完整的二维码生成功能，让用户可以通过扫描二维码直接进入学生心理健康支持系统。

## 🎯 二维码类型

### 1. 系统入口二维码
- **路径**: `/qrcode`
- **功能**: 生成固定的系统入口二维码
- **用途**: 宣传材料、海报、传单等
- **特点**: 直接跳转到系统首页

### 2. 自定义二维码
- **路径**: `/share`
- **功能**: 生成指向特定页面的二维码
- **用途**: 分享特定功能页面
- **特点**: 可选择不同目标页面

## 🚀 使用方法

### 在线生成（推荐）

1. **访问二维码页面**
   - 在首页点击"系统入口二维码"按钮
   - 或直接访问 `/qrcode` 路径

2. **生成二维码**
   - 系统自动生成当前域名的二维码
   - 支持复制链接和下载PNG图片

3. **使用二维码**
   - 将二维码用于宣传材料
   - 用户扫描即可直接进入系统

### 命令行生成

1. **生成开发环境二维码**
   ```bash
   node generate-qr-config.mjs development
   ```

2. **生成生产环境二维码**
   ```bash
   node generate-qr-config.mjs production
   ```

3. **生成所有环境二维码**
   ```bash
   node generate-qr-config.mjs all
   ```

## ⚙️ 配置说明

### 环境配置

在 `generate-qr-config.mjs` 文件中修改 `environments` 对象：

```javascript
const environments = {
  development: 'http://localhost:5173',
  production: 'https://your-domain.com', // 替换为您的实际域名
  staging: 'https://staging.your-domain.com'
};
```

### 二维码参数

- **尺寸**: 512x512 像素
- **纠错级别**: M (中等)
- **边距**: 2
- **颜色**: 黑色二维码，白色背景

## 📋 使用场景

### 1. 校园宣传
- 海报和横幅
- 传单和宣传册
- 展板和易拉宝

### 2. 线上推广
- 网站和社交媒体
- 邮件签名
- 在线广告

### 3. 线下活动
- 活动现场展示
- 会议材料
- 宣传单页

## 🔧 技术实现

### 前端组件
- `SystemEntryQR.tsx`: 系统入口二维码组件
- `AppQRCode.tsx`: 通用二维码组件
- `QRCodeEntry.tsx`: 二维码展示页面

### 依赖库
- `qrcode.react`: React二维码生成库
- `qrcode`: Node.js二维码生成库

### 路由配置
- `/qrcode`: 系统入口二维码页面
- `/share`: 自定义二维码页面

## 📱 兼容性

- ✅ 支持所有智能手机
- ✅ 支持微信、支付宝等扫码功能
- ✅ 支持系统相机扫码
- ✅ 支持第三方扫码应用

## 🎨 自定义样式

### 修改二维码样式
在 `SystemEntryQR.tsx` 中修改 `QRCodeCanvas` 组件的属性：

```jsx
<QRCodeCanvas 
  value={entryUrl} 
  size={size}
  level="M"           // 纠错级别: L, M, Q, H
  includeMargin={true}
  // 可以添加更多自定义属性
/>
```

### 修改页面样式
使用 Tailwind CSS 类名自定义页面外观。

## 🚀 部署建议

### 1. 开发环境
- 使用 `http://localhost:5173` 作为二维码链接
- 适合本地测试和开发

### 2. 生产环境
- 使用您的实际域名
- 确保域名可访问
- 建议使用HTTPS

### 3. 测试环境
- 使用测试域名
- 验证二维码功能正常

## 📞 技术支持

如有问题，请检查：
1. 系统是否正常运行
2. 域名是否正确配置
3. 二维码是否清晰可扫描
4. 网络连接是否正常

---

**注意**: 请根据实际部署情况修改环境配置中的域名地址。
